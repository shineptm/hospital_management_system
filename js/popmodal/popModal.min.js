/*
popModal - 1.25 [15.08.17]
Author: vadimsva
Github: https://github.com/vadimsva/popModal
*/
$(function(){(function(a){a.fn.popModal=function(c){function f(){function b(a){var b=Math.max(v,w,x);return("bottomLeft"==a?0<w:"bottomRight"==a?0<v:0<x)?a:0<w&&w==b?"bottomLeft":0<v&&v==b?"bottomRight":0<x&&x==b?"bottomCenter":a}if(h.inline){var c=d.position().left;var g=d.position().top}else c=d.offset().left,g=d.offset().top;var n=parseInt(d.css("marginLeft"));parseInt(d.css("paddingLeft"));var k=parseInt(d.css("marginTop")),f=d.outerHeight(),l=d.outerWidth(),p=e.outerWidth(),q=e.outerHeight(),
m,t=d.offset().left,z=a(window).width()-d.offset().left-l,B=d.offset().top,C=t-10-p,v=l+t-p,D=z-10-p,w=l+z-p,x=Math.min(l/2+z-p/2,l/2+t-p/2);t=B-q/2;if(/^top/.test(h.placement)||""==h.placement)h.placement="bottomLeft";/^bottom/.test(h.placement)?m=b(h.placement):/^left/.test(h.placement)?m=0<C?"leftCenter"==h.placement&&0<t?"leftCenter":"leftTop":b("bottomLeft"):/^right/.test(h.placement)&&(m=0<D?"rightCenter"==h.placement&&0<t?"rightCenter":"rightTop":b("bottomRight"));e.removeAttr("class").addClass("popModal animated "+
m);switch(m){case "bottomLeft":e.css({top:g+k+f+10+"px",left:c+n+"px"}).addClass("fadeInBottom");break;case "bottomRight":e.css({top:g+k+f+10+"px",left:c+n+l-p+"px"}).addClass("fadeInBottom");break;case "bottomCenter":e.css({top:g+k+f+10+"px",left:c+n+(l-p)/2+"px"}).addClass("fadeInBottom");break;case "leftTop":e.css({top:g+k+"px",left:c+n-p-10+"px"}).addClass("fadeInLeft");break;case "rightTop":e.css({top:g+k+"px",left:c+n+l+10+"px"}).addClass("fadeInRight");break;case "leftCenter":e.css({top:g+
k+f/2-q/2+"px",left:c+n-p-10+"px"}).addClass("fadeInLeft");break;case "rightCenter":e.css({top:g+k+f/2-q/2+"px",left:c+n+l+10+"px"}).addClass("fadeInRight")}}function g(){e=a("div[data-popmodal]");d.removeAttr("data-popmodal_id");e.length&&(b(),k||(k=e.css("animationDuration"),k=void 0!==k?1E3*k.replace("s",""):0),setTimeout(function(){a(".popModal_source").replaceWith(a(".popModal_content").children());e.remove();a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen")},k))}function b(){var a=
e.attr("class"),b=a.replace("fadeIn","fadeOut");e.removeClass(a).addClass(b)}var d=a(this),e,l="",n="",p,h,k,q,m={init:function(b){h=a.extend({html:"",placement:"bottomLeft",showCloseBut:!0,onDocumentClickClose:!0,onDocumentClickClosePrevent:"",overflowContent:!1,inline:!0,asMenu:!1,beforeLoadingContent:"Please, wait...",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},b);if(0!==a("body").find("div[data-popmodal]").length&&a("body").find("div[data-popmodal]").attr("data-popmodal_id")==
d.attr("data-popmodal_id"))g();else{a("html.popModalOpen").off(".popModalEvent").removeClass("popModalOpen");a(".popModal_source").replaceWith(a(".popModal_content").children());a(".popModal").remove();h.asMenu?p=" popModal_asMenu":(p="",h.showCloseBut&&(l=a('<button type="button" class="close">&times;</button>')),h.overflowContent&&(n=" popModal_contentOverflow"));q=(new Date).getMilliseconds();d.attr("data-popmodal_id",q);b=a('<div class="popModal animated" style="'+("fixed"==d.css("position")?
"position:fixed;":"")+'" data-popmodal_id="'+q+'" data-popmodal="open"></div>');var c=a('<div class="popModal_content'+n+p+'"></div>');b.append(l,c);a.isFunction(h.html)?(c.append(h.beforeLoadingContent),h.html(function(b){c.empty().append(b);e=a("div[data-popmodal]");f()})):("object"==a.type(h.html)&&h.html.after(a('<div class="popModal_source"></div>')),c.append(h.html));500>=a(window).width()&&(h.inline=!0);h.inline?d.after(b):a("body").append(b);e=a("div[data-popmodal]");b=e.find(".popModal_footer");
0!=b.length&&e.find(".popModal_content").css({marginBottom:b.outerHeight()+15+"px"});a.isFunction(h.html)||a.type(h.html);if(h.onLoad&&a.isFunction(h.onLoad))h.onLoad(e);a(h.html).trigger("load",{el:e});e.on("destroyed",function(){if(h.onClose&&a.isFunction(h.onClose))h.onClose(e);a(h.html).trigger("close",{el:e})});f();if(h.onDocumentClickClose)a("html").on("click.popModalEvent",function(b){a(this).addClass("popModalOpen");e.is(":hidden")&&g();var c=a(b.target);c.parents().addBack().is(".popModal")||
c.parents().addBack().is(d)||(b=parseInt(c.parents().filter(function(){return"auto"!==a(this).css("zIndex")}).first().css("zIndex")),isNaN(b)&&(b=0),""!==h.onDocumentClickClosePrevent&&c.is(h.onDocumentClickClosePrevent)&&(b=9999),c=c.css("zIndex"),"auto"==c&&(c=0),b<c&&(b=c),b<=e.css("zIndex")&&g())});a(window).resize(function(){f()});e.find(".close").on("click",function(){g();a(this).off("click")});e.find('[data-popmodal-but="close"]').on("click",function(){g();a(this).off("click")});e.find('[data-popmodal-but="ok"]').on("click",
function(b){var d;h.onOkBut&&a.isFunction(h.onOkBut)&&(d=h.onOkBut(b,e));!1!==d&&g();a(this).off("click");a(h.html).trigger("okbut",{event:b,el:e})});e.find('[data-popmodal-but="cancel"]').on("click",function(b){if(h.onCancelBut&&a.isFunction(h.onCancelBut))h.onCancelBut(b,e);g();a(this).off("click");a(h.html).trigger("cancelbut",{event:b,el:e})});a("html").on("keydown.popModalEvent",function(a){27==a.keyCode&&g()})}return e},hide:function(){g()}};if(m[c])return m[c].apply(this,Array.prototype.slice.call(arguments,
1));if("object"===typeof c||!c)return m.init.apply(this,arguments)};a("* [data-popmodal-bind]").bind("click",function(){var c=a(this).attr("data-popmodal-bind");c={html:a(c)};void 0!==a(this).attr("data-placement")&&(c.placement=a(this).attr("data-placement"));void 0!==a(this).attr("data-showclose-but")&&(c.showCloseBut=/^true$/i.test(a(this).attr("data-showclose-but")));void 0!==a(this).attr("data-overflowcontent")&&(c.overflowContent=/^false$/i.test(a(this).attr("data-overflowcontent")));void 0!==
a(this).attr("data-ondocumentclick-close")&&(c.onDocumentClickClose=/^true$/i.test(a(this).attr("data-ondocumentclick-close")));void 0!==a(this).attr("data-ondocumentclick-close-prevent")&&(c.onDocumentClickClosePrevent=a(this).attr("data-ondocumentclick-close-prevent"));void 0!==a(this).attr("data-inline")&&(c.inline=/^true$/i.test(a(this).attr("data-inline")));void 0!==a(this).attr("data-asmenu")&&(c.asMenu=/^false$/i.test(a(this).attr("data-asmenu")));void 0!==a(this).attr("data-beforeloading-content")&&
(c.beforeLoadingContent=a(this).attr("data-beforeloading-content"));a(this).popModal(c)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);(function(a){a.fn.notifyModal=function(c){function f(){var b=a(".notifyModal");b.removeClass("open");setTimeout(function(){b.remove();-1!=d.duration&&clearTimeout(notifDur);if(d.onClose&&a.isFunction(d.onClose))d.onClose(b);b.trigger("close",{el:b})},e)}var g=a(this),b,d,e,l={init:function(c){d=a.extend({duration:2500,placement:"center",
type:"notify",overlay:!0,icon:!1,onLoad:function(){},onClose:function(){}},c);a(".notifyModal").remove();c=a('<div class="notifyModal '+d.placement+" "+(d.overlay?"overlay":"")+" "+d.type+" "+(d.icon?"icon":"")+'"></div>');var n=a('<div class="notifyModal_content"></div>'),h=a('<button type="button" class="close">&times;</button>');g=void 0===g[0]?g.selector:g[0].innerHTML;n.append(h,g);c.append(n);a("body").append(c);b=a(".notifyModal");e||(e=b.css("transitionDuration"),e=void 0!==e?1E3*e.replace("s",
""):0);if(d.onLoad&&a.isFunction(d.onLoad))d.onLoad(b);c.trigger("load",{el:b});b.addClass("open");b.click(function(){f()});-1!=d.duration&&(notifDur=setTimeout(f,d.duration))},hide:function(){f()}};a("html").keydown(function(a){27==a.keyCode&&f()});if(l[c])return l[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return l.init.apply(this,arguments)};a("* [data-notifymodal-bind]").bind("click",function(){var c=a(this).attr("data-notifymodal-bind"),f={};void 0!==a(this).attr("data-duration")&&
(f.duration=parseInt(a(this).attr("data-duration")));void 0!==a(this).attr("data-placement")&&(f.placement=a(this).attr("data-placement"));void 0!==a(this).attr("data-ontop")&&(f.onTop=/^true$/i.test(a(this).attr("data-ontop")));a(c).notifyModal(f)})})(jQuery);(function(a){a.fn.hintModal=function(c){a(".hintModal").off();var f={init:function(){function c(b,d){var c=b.attr("class");var g=b.outerWidth();var n=d.outerWidth(),f=b.offset().left,h=a(window).width()-b.offset().left-g,k=g+f-n,q=g+h-n,m=Math.min(g/
2+h-n/2,g/2+f-n/2);g=b.hasClass("bottomLeft")?"bottomLeft":b.hasClass("bottomCenter")?"bottomCenter":b.hasClass("bottomRight")?"bottomRight":"bottomLeft";void 0===b.data("placement")&&b.data("placement",g);b.removeAttr("class").addClass(c+" "+function(a){var b=Math.max(k,q,m);return("bottomLeft"==a?0<q:"bottomRight"==a?0<k:0<m)?a:0<q&&q==b?"bottomLeft":0<k&&k==b?"bottomRight":0<m&&m==b?"bottomCenter":a}(b.data("placement")))}a(this).on("mouseenter",function(){var b=a(this).find("> .hintModal_container");
1<b[0].textContent.length&&(b.addClass("animated fadeInBottom"),c(a(this),b))});a(this).on("mouseleave",function(){var b=a(this).find("> .hintModal_container");1<b[0].textContent.length&&b.removeClass("animated fadeInBottom")})}};if(f[c])return f[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return f.init.apply(this,arguments)};a(".hintModal").hintModal();document.addEventListener("DOMNodeInserted",function(c){a(c.target).hasClass("hintModal")&&a(".hintModal").hintModal()},
!1)})(jQuery);(function(a){a.fn.dialogModal=function(c){function f(){var b=a(".dialogModal");b.removeClass("open");setTimeout(function(){b.remove();a("body").removeClass("dialogModalOpen").css({paddingRight:""});a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");b.find(".dialogPrev").off("click");b.find(".dialogNext").off("click")},e)}var g=a(this),b,d,e,l={init:function(c){function n(){b.find('[data-dialogmodal-but="close"]').on("click",function(){f();a(this).off("click")});
b.find('[data-dialogmodal-but="ok"]').on("click",function(c){var e;d.onOkBut&&a.isFunction(d.onOkBut)&&(e=d.onOkBut(c,b,k+1));!1!==e&&f();a(this).off("click");g.trigger("okbut",{event:c,el:b,current:k+1})});b.find('[data-dialogmodal-but="cancel"]').on("click",function(c){if(d.onCancelBut&&a.isFunction(d.onCancelBut))d.onCancelBut(c,b,k+1);f();a(this).off("click");g.trigger("cancelbut",{event:c,el:b,current:k+1})});b.find('[data-dialogmodal-but="prev"]').on("click",function(){b.find(".dialogPrev").click()});
b.find('[data-dialogmodal-but="next"]').on("click",function(){b.find(".dialogNext").click()})}function h(){y.empty().append(g[k].innerHTML);u.find("span").html(g.find(".dialogModal_header")[k].innerHTML);n();if(d.onChange&&a.isFunction(d.onChange))d.onChange(b,k+1);g.trigger("change",{el:b,current:k+1})}d=a.extend({topOffset:0,top:0,type:"",onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){},onChange:function(){}},c);a("html.dialogModalOpen").off(".dialogModalEvent").removeClass("dialogModalOpen");
a(".dialogModal .dialogPrev, .dialogModal .dialogNext").off("click");a(".dialogModal").remove();""!=d.type&&(d.top="calc("+d.top+" + 60px)");var k=0,l=g.length-1;c=a('<div class="dialogModal '+d.type+'" style="top:'+(isNaN(d.topOffset)?d.topOffset:d.topOffset+"px")+'"></div>');var m=a('<div class="dialogModal_container" style="top:'+(isNaN(d.top)?d.top:d.top+"px")+'"></div>'),r=a('<div class="dialogModal_top animated"></div>'),u=a('<div class="dialogModal_header"></div>'),y=a('<div class="dialogModal_body animated"></div>'),
A=a('<button type="button" class="close">&times;</button>');c.append(m);m.append(r,y);r.append(u);u.append(A);y.append(g[k].innerHTML);0<l&&u.append(a('<div class="dialogNext">&rsaquo;</div><div class="dialogPrev notactive">&lsaquo;</div>'));u.append("<span>"+g.find(".dialogModal_header")[k].innerHTML+"</span>");a("body").append(c).addClass("dialogModalOpen");""==d.type&&(c=c.outerWidth()-m[0].scrollWidth,console.log(c),r.css({right:c+"px"}));b=a(".dialogModal");e||(e=b.css("transitionDuration"),
e=void 0!==e?1E3*e.replace("s",""):0);if(d.onLoad&&a.isFunction(d.onLoad))d.onLoad(b,k+1);g.trigger("load",{el:b,current:k+1});b.on("destroyed",function(){if(d.onClose&&a.isFunction(d.onClose))d.onClose(b,k+1);g.trigger("close",{el:b,current:k+1})});b.addClass("open");setTimeout(function(){""!=d.type&&m.css({opacity:1});r.addClass("fadeInTopBig");y.addClass("fadeInTopBig")},e+100);n();b.find(".dialogPrev").on("click",function(){0<k&&(--k,k<l&&b.find(".dialogNext").removeClass("notactive"),0===k&&
b.find(".dialogPrev").addClass("notactive"),h())});b.find(".dialogNext").on("click",function(){k<l&&(++k,0<k&&b.find(".dialogPrev").removeClass("notactive"),k==l&&b.find(".dialogNext").addClass("notactive"),h())});b.find(".close").on("click",function(){f();a(this).off("click")});a("html").on("keydown.dialogModalEvent",function(a){27==a.keyCode?f():37==a.keyCode?b.find(".dialogPrev").click():39==a.keyCode&&b.find(".dialogNext").click()})},hide:function(){f()}};if(l[c])return l[c].apply(this,Array.prototype.slice.call(arguments,
1));if("object"===typeof c||!c)return l.init.apply(this,arguments)};a("* [data-dialogmodal-bind]").bind("click",function(){var c=a(this).attr("data-dialogmodal-bind"),f={};void 0!==a(this).attr("data-topoffset")&&(f.topOffset=a(this).attr("data-topoffset"));void 0!==a(this).attr("data-top")&&(f.top=a(this).attr("data-top"));void 0!==a(this).attr("data-topoffset")&&(f.type=a(this).attr("data-type"));a(c).dialogModal(f)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery);
(function(a){a.fn.titleModal=function(c){a(".titleModal").off();var f={init:function(){var c,b,d=a(".titleModal");d.on("mouseenter",function(){c=a(this);if(void 0!==c.attr("title")||"ellipsis"==c.css("textOverflow")||"clip"==c.css("textOverflow")){var d=void 0!==c.attr("title")?c.attr("title"):c.text();c.removeAttr("title");c.attr("data-title",d);var f=a('<div class="titleModal_container animated"></div>');b=a(".titleModal_container");var g=c.attr("data-placement");void 0===g&&(g="bottom");b&&b.remove();
c.after(f.append(d));d=g;b=a(".titleModal_container");f=c.position().left;g=c.position().top;var p=c.css("marginLeft"),h=c.css("marginTop"),k=c.outerHeight(),q=c.outerWidth(),m=b.outerWidth(),r=b.outerHeight();switch(d){case "bottom":b.css({top:g+parseInt(h)+k-5+"px",left:f+parseInt(p)+(q-m)/2+"px"}).addClass("fadeInBottom");break;case "top":b.css({top:g+parseInt(h)-r+"px",left:f+parseInt(p)+(q-m)/2+"px"}).addClass("top fadeInTop");break;case "left":b.css({top:g+parseInt(h)+k/2-r/2+"px",left:f+parseInt(p)-
m-10+"px"}).addClass("left fadeInLeft");break;case "right":b.css({top:g+parseInt(h)+k/2-r/2+"px",left:f+parseInt(p)+q+10+"px"}).addClass("right fadeInRight")}}});d.on("mouseleave",function(){c=a(this);if(void 0!==c.attr("data-title")){var d=c.attr("data-title");c.removeAttr("data-title");c.attr("title",d);d=b.attr("class");var f=d.replace("fadeIn","fadeOut");b.removeClass(d).addClass(f);b.remove()}})}};if(f[c])return f[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||
!c)return f.init.apply(this,arguments)};a(".titleModal").titleModal();document.addEventListener("DOMNodeInserted",function(c){a(c.target).hasClass("titleModal")&&a(".titleModal").titleModal()},!1)})(jQuery);(function(a){a.fn.confirmModal=function(c){function f(){var b=a(".confirmModal");b.removeClass("open");setTimeout(function(){b.remove();a("body").removeClass("confirmModalOpen").css({paddingRight:""});a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen")},e)}var g=
a(this),b,d,e,l={init:function(c){d=a.extend({topOffset:0,top:0,onOkBut:function(){return!0},onCancelBut:function(){},onLoad:function(){},onClose:function(){}},c);a("html.confirmModalOpen").off(".confirmModalEvent").removeClass("confirmModalOpen");a(".confirmModal").remove();c=a('<div class="confirmModal" style="top:'+(isNaN(d.topOffset)?d.topOffset:d.topOffset+"px")+'"></div>');var l=a('<div class="confirmModal_body animated'+(0!=d.top?" modal":"")+'" style="top:'+(isNaN(d.top)?d.top:d.top+"px")+
'"></div>');c.append(l);l.append(g[0].innerHTML);a("body").append(c).addClass("confirmModalOpen");b=a(".confirmModal");e||(e=b.css("transitionDuration"),e=void 0!==e?1E3*e.replace("s",""):0);if(d.onLoad&&a.isFunction(d.onLoad))d.onLoad(b);g.trigger("load",{el:b});b.on("destroyed",function(){if(d.onClose&&a.isFunction(d.onClose))d.onClose(b);g.trigger("close",{el:b})});b.addClass("open");setTimeout(function(){l.addClass("fadeInTopBig");setTimeout(function(){l.removeClass("fadeInTopBig").addClass("open")},
e+100)},e+100);(function(){function c(){l.addClass("needConfirm");setTimeout(function(){l.removeClass("needConfirm")},e+100)}b.find('[data-confirmmodal-but="close"]').on("click",function(){f();a(this).off("click")});b.find('[data-confirmmodal-but="ok"]').on("click",function(c){var e;d.onOkBut&&a.isFunction(d.onOkBut)&&(e=d.onOkBut(c,b));!1!==e&&f();g.trigger("okbut",{event:c,el:b});a(this).off("click")});b.find('[data-confirmmodal-but="cancel"]').on("click",function(c){if(d.onCancelBut&&a.isFunction(d.onCancelBut))d.onCancelBut(c,
b);g.trigger("cancelbut",{event:c,el:b});f();a(this).off("click")});b.on("click",function(b){a(b.target).parents().addBack().is(l)||c()});a("html").on("keydown.confirmModalEvent",function(a){27==a.keyCode&&c()})})()},hide:function(){f()}};if(l[c])return l[c].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof c||!c)return l.init.apply(this,arguments)};a("* [data-confirmmodal-bind]").bind("click",function(){var c=a(this).attr("data-confirmmodal-bind"),f={};void 0!==a(this).attr("data-topoffset")&&
(f.topOffset=a(this).attr("data-topoffset"));void 0!==a(this).attr("data-top")&&(f.top=a(this).attr("data-top"));a(c).confirmModal(f)});a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(jQuery)});
